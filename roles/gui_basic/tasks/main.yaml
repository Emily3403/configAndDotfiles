# TODO: Thunderbird

- name: Clone config Repo
  git:
    repo: https://github.com/Emily3403/configAndDotfiles
    dest: ~/configAndDotfiles
    force: yes


- name: Gui packages
  become: true
  ansible.builtin.package:
    name:
      - chromium
      - flameshot
      - pavucontrol
      - spotify
      - telegram-desktop
      - nvtop
      - ibus
      - okular


- name: Configure ibus support
  shell: "ibus-daemon -drxR"

- name: Set ibus environment variables
  copy:
    src: "~/configAndDotfiles/roles/gui_basic/tasks/dotfiles/ibus/environment"
    dest: "/etc/environment"
  become: yes



# TODO: Auto-configure chrome plugins

- name: Set up chromium dir
  file:
    path: "~/.config/chromium"
    state: directory

- name: Delete unused files
  file:
    state: absent
    path: "~/.config/chromium/Default"


- name: Install gui dotfiles
  file:
    src: "{{ item.src }}"
    dest: "{{ item.dest }}"
    state: link
    force: yes

  with_items:
    - { src: "~/configAndDotfiles/roles/gui_basic/tasks/dotfiles/chromium/Default", dest: "~/.config/chromium/Default" }
    - { src: "~/configAndDotfiles/roles/gui_basic/tasks/dotfiles/chromium/Background", dest: "~/Pictures/Background" }
